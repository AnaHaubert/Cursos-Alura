"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var TheaterModeToggler=function(){function n(){_classCallCheck(this,n),this.$body=$("body"),this.setCookie()}return _createClass(n,[{key:"setCookie",value:function(){var e=new Date;e.setTime(e.getTime()+6048e5);e="expires="+e.toUTCString();document.cookie="theatermode="+this.$body.hasClass("theatermode")+";expires="+e+";path=/"}},{key:"registerTheaterModeComponentOnVideoJS",value:function(){var e=videojs.getComponent("Button"),t=new n,o=videojs.extend(e,{constructor:function(){e.apply(this,arguments),this.addClass("theater-mode-player-icon"),t.buttonIconToggle(this)},handleClick:function(){$("body").toggleClass("theatermode"),t.buttonIconToggle(this),t.setCookie()}});videojs.registerComponent("theaterModeToggle",o)}},{key:"buttonIconToggle",value:function(e){$("body").hasClass("theatermode")?(e.addClass("close"),e.controlText("Close Theater Mode")):(e.removeClass("close"),e.controlText("Open Theater Mode"))}}]),n}();document.addEventListener("fullscreenchange",function(){var e=getCookie("theatermode");document.fullscreenElement?$("body").removeClass("theatermode"):e&&$("body").addClass("theatermode")});